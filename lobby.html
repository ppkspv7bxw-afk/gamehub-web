<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Gamehub4u - ÿßŸÑŸÑŸàÿ®Ÿä</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      min-height:100vh;
      color:#fff;
      font-family:system-ui,sans-serif;
      background:linear-gradient(165deg,#0a0415,#1a0820);
      padding:40px 20px
    }
    .wrap{
      max-width:800px;
      margin:0 auto;
      display:flex;
      flex-direction:column;
      gap:20px
    }
    .logo{text-align:center;margin-bottom:20px}
    .logo img{width:min(400px,80vw);height:auto}
    .panel{
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.16);
      border-radius:20px;
      padding:30px;
      backdrop-filter:blur(16px)
    }
    .header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:30px;
      flex-wrap:wrap;
      gap:15px
    }
    h1{font-size:24px;margin-bottom:8px}
    .room-code{
      display:inline-block;
      background:rgba(255,61,107,.15);
      border:1px solid rgba(255,61,107,.3);
      padding:8px 16px;
      border-radius:12px;
      font-size:20px;
      font-weight:800;
      letter-spacing:4px;
      color:#ff3d6b;
      font-family:monospace
    }
    .share-section{
      background:rgba(255,255,255,.03);
      border:1px solid rgba(255,255,255,.16);
      padding:20px;
      border-radius:12px;
      margin-bottom:20px
    }
    .share-label{
      font-size:14px;
      color:rgba(255,255,255,.65);
      margin-bottom:10px
    }
    .share-box{display:flex;gap:10px}
    .share-input{
      flex:1;
      padding:10px 14px;
      background:rgba(0,0,0,.3);
      border:1px solid rgba(255,255,255,.16);
      border-radius:10px;
      color:#fff;
      font-size:14px;
      font-family:monospace;
      direction:ltr;
      text-align:left
    }
    .copy-btn{
      padding:10px 20px;
      background:rgba(255,255,255,.1);
      border:1px solid rgba(255,255,255,.16);
      border-radius:10px;
      color:#fff;
      font-size:14px;
      font-weight:600;
      cursor:pointer
    }
    .section h2{
      font-size:18px;
      margin-bottom:15px;
      color:rgba(255,255,255,.65)
    }
    .players{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(200px,1fr));
      gap:12px;
      margin-bottom:20px
    }
    .player{
      background:rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.16);
      padding:15px;
      border-radius:12px;
      display:flex;
      align-items:center;
      gap:12px
    }
    .player-avatar{
      width:40px;
      height:40px;
      border-radius:50%;
      background:linear-gradient(135deg,#ff1b3a,#ff3d6b);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:18px;
      font-weight:700
    }
    .player-name{font-size:15px;font-weight:600}
    .player.host .player-name::after{content:' üëë';font-size:14px}
    .actions{display:flex;gap:12px;flex-wrap:wrap}
    .btn{
      flex:1;
      min-width:150px;
      padding:14px 20px;
      border:none;
      border-radius:12px;
      font-size:15px;
      font-weight:700;
      color:#fff;
      background:linear-gradient(135deg,#ff1b3a,#ff3d6b);
      cursor:pointer
    }
    .btn:disabled{opacity:.5;cursor:not-allowed}
    .btn.secondary{background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.16)}
    .btn.danger{background:linear-gradient(135deg,#dc2626,#b91c1c)}
    .toast{
      position:fixed;
      bottom:30px;
      left:50%;
      transform:translateX(-50%) translateY(100px);
      background:rgba(0,0,0,.9);
      color:#fff;
      padding:12px 24px;
      border-radius:12px;
      font-size:14px;
      font-weight:600;
      opacity:0;
      transition:all .3s;
      z-index:1000
    }
    .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="logo">
      <img src="/logo.png" alt="Gamehub4u">
    </div>
    <div class="panel">
      <div class="header">
        <div>
          <h1>ÿ∫ÿ±ŸÅÿ© ÿßŸÑŸÑÿπÿ®</h1>
          <span class="room-code" id="roomCode">----</span>
        </div>
      </div>
      <div class="share-section">
        <div class="share-label">ÿ¥ÿßÿ±ŸÉ Ÿáÿ∞ÿß ÿßŸÑÿ±ÿßÿ®ÿ∑ ŸÖÿπ ÿ£ÿµÿØŸÇÿßÿ¶ŸÉ:</div>
        <div class="share-box">
          <input type="text" class="share-input" id="shareLink" readonly>
          <button class="copy-btn" id="copyBtn">ŸÜÿ≥ÿÆ</button>
        </div>
      </div>
      <div class="section">
        <h2>ÿßŸÑŸÑÿßÿπÿ®ŸäŸÜ (<span id="playerCount">1</span>)</h2>
        <div class="players" id="playersList"></div>
      </div>
      <div class="actions">
        <button class="btn" id="startBtn">ÿßÿ®ÿØÿ£ ÿßŸÑŸÑÿπÿ®ÿ©</button>
        <button class="btn secondary" id="settingsBtn">ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™</button>
        <button class="btn danger" id="leaveBtn">ŸÖÿ∫ÿßÿØÿ±ÿ©</button>
      </div>
    </div>
  </div>
  <div class="toast" id="toast"></div>
  <script>
    const urlParams=new URLSearchParams(location.search);
    const roomCode=urlParams.get('room')||'----';
    document.getElementById('roomCode').textContent=roomCode;
    const shareLink=location.origin+'/?room='+roomCode;
    document.getElementById('shareLink').value=shareLink;
    const players=[{name:localStorage.getItem('gh_name')||'ÿ£ŸÜÿ™',isHost:true}];
    function renderPlayers(){
      const list=document.getElementById('playersList');
      document.getElementById('playerCount').textContent=players.length;
      list.innerHTML=players.map(p=>`
        <div class="player ${p.isHost?'host':''}">
          <div class="player-avatar">${p.name.charAt(0).toUpperCase()}</div>
          <div class="player-name">${p.name}</div>
        </div>
      `).join('')
    }
    renderPlayers();
    document.getElementById('copyBtn').onclick=async()=>{
      const input=document.getElementById('shareLink');
      try{
        await navigator.clipboard.writeText(input.value);
        showToast('ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿßŸÑÿ±ÿßÿ®ÿ∑ ‚úì')
      }catch(e){
        input.select();
        document.execCommand('copy');
        showToast('ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿßŸÑÿ±ÿßÿ®ÿ∑ ‚úì')
      }
    };
    document.getElementById('startBtn').onclick=()=>showToast('ÿ¨ÿßÿ±Ÿä ÿ®ÿØÿ° ÿßŸÑŸÑÿπÿ®ÿ©...');
    document.getElementById('settingsBtn').onclick=()=>showToast('ŸÇÿ±Ÿäÿ®ÿßŸã...');
    document.getElementById('leaveBtn').onclick=()=>{
      if(confirm('ŸáŸÑ ÿ™ÿ±ŸäÿØ ŸÖÿ∫ÿßÿØÿ±ÿ© ÿßŸÑÿ∫ÿ±ŸÅÿ©ÿü'))location.href='/'
    };
    function showToast(msg){
      const toast=document.getElementById('toast');
      toast.textContent=msg;
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'),2000)
    }
  </script>
</body>
</html>
